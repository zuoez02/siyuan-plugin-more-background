# 题头图Plus

题头图增强插件，支持多个源的题头图。支持从剪贴板直接导入题头图

> 预览图中为搭配Asri主题的顶栏融合效果

## 使用方法

1. 安装插件
2. 无题头图文档点击题头的"添加题头图“
3. 点击题头图按钮组中的题头图Plus按钮，从按钮中选择一个数据源，或从剪贴板粘贴
4. 点击顶栏插件按钮中的题头图Plus或点击题头图菜单中题头图按钮菜单中的打开设置，可配置插件内容

### 配置项

- 图片宽度: 在线随机图片的宽度(仅Unplash和Picsum支持)
- 图片高度: 在线随机图片的高度(仅Unplash和Picsum支持)
- 题头图资源目录: 读取和存储随机题头图的位置，必须是在/data下的assets或public目录，目前思源仅对这两个目录提供静态文件服务
- 从资源目录随机读取文件: 开启从资源目录读取文件的功能
- 保存随记题头图到资源目录: 将在线随机题头图或剪贴板中读取的图存储到题头图资源目录中
- 重置：重置配置为默认值，点击保存生效


### 视频题头图

1. 添加题头图
2. 修改链接
3. 粘贴视频链接的URL地址（推荐用assets内的视频，速度更快）
4. 确定保存生效
5. 点击题头图开始播放。（思源禁止视频自动播放，目前暂无技术手段解决此问题，与iframe 视频自动播放存在冲突）
6. 画廊视图中，将会把题头图默认渲染出来，鼠标点击播放或暂停

## 内置数据源

- ACG
- Bing今日壁纸
- Unsplash
- Picsum

## 自定义数据源

找到工作空间/data/storage/petal/siyuan-plugin-more-background/settings文件，使用记事本打开，按照JSON格式，添加label和url即可。

注意URL必须是能够直接返回图片的形式，最好是302重定向方式获取的。

### Changelog

- 1.3.1: 修复旧版本升级的代码bug
- 1.3.0: 支持画廊视图中的视频题头图，鼠标点击播放或暂停
- 1.2.0: 支持配置及资源目录配置，从资源目录随机读取，保存到资源目录功能
- 1.1.2: 修复首次启动插件无法使用的问题，同步调整位置功能
- 1.1.1: 修复自动播放
- 1.1.0: 支持视频题头图
- 1.0.0: 全新命题，修改按钮位置，内置四种在线服务，支持剪贴板直接应用到题头图